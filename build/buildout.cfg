[buildout]
find-links =
    http://pypi.pinaxproject.com/
    http://pypi2.pinaxproject.com/
    http://pypi.pinaxproject.com/releases/0.7/
    http://pypi2.pinaxproject.com/releases/0.7/
    http://dist.plone.org/thirdparty/
parts =
  postgis
  gdal
  init-pgsql
  django
  python-openid
  beautiful-soup
  ybrowserauth
  geopy
  markdown
  zlib
  pinax
  scripts
  feedutil
  app-plugins
  django-mptt
  django-schedule
  django-haystack
  xapian
  xapian-bindings
  xapian-haystack
  haystack-xapian-install
  django-page-cms
  django-filters
  diff-match
  atompub
  atompub-link

extensions = mr.developer
versions = versions
MYPROJECT_NAME = bme
offline = false
newest = true
unzip = true
eggs =
    Creoleparser
    PIL
    Pygments
    coverage
    django-ajax-validation
    django-announcements
    django-attachments
    django-authority
    django-avatar
    django-bookmarks
    django-db-log
    django-dbtemplates
    django-debug-toolbar
    django-email-confirmation
    django-extensions
    django-extensions
    django-flag
    django-friends
    django-gravatar
    django-groups
    django-imagekit
    django-locations
    django-mailer
    django-messages
    django-microblogging
    django-notification
    django-oembed
    django-openid
    django-pagination
    django-photologue
    django-piston
    django-robots
    django-sorting
    django-staticfiles
    django-swaps
    django-tagging
    django-threadedcomments
    django-timezones
    django-uni-form
    django-voting
    django-wakawaka
    django-wikiapp == 0.1.2
    docutils
    elementtree
    feedparser
    gdata == 2.0.10
    html5lib
    ipython
    psycopg2
    python-dateutil
    python-twitter
    python-yadis
    pytz >= 2009a
    simplejson
    textile
    vobject

extra_paths =
    ${pinax:location}
    ${postgis:location}
    ${python-openid:location}
    ${beautiful-soup:location}
    ${ybrowserauth:location}
    ${geopy:location}
    ${markdown:location}
    ${feedutil:location}/django-feedutil
    ${app-plugins:location}/django-app-plugins
    ${django-mptt:location}
    ${django-schedule:location}/django-schedule
    ${xapian:location}/lib/python
    ${django-haystack:location}
    ${django-page-cms:location}
    ${diff-match:location}
    ${django-filters:location}
    ${buildout:directory}
    ${buildout:directory}/lib

[versions]
Django = 1.2.1
PIL = 1.1.7

[diff-match]
recipe = zerokspot.recipe.git
repository = git://github.com/pinax/diff-match-patch.git
as_egg = true

[django-filters]
recipe = zerokspot.recipe.git
repository = http://github.com/alex/django-filter.git
as_egg = true

[django-page-cms]
recipe = gocept.download
url = http://django-page-cms.googlecode.com/files/django-page-cms-1.1.3.tar.gz
md5sum = d27e2012d62247d007966825e58300df

[postgis]
recipe = hexagonit.recipe.cmmi
url = http://postgis.refractions.net/download/postgis-1.3.6.tar.gz
configure-options =
    --with-geos=${geos:location}/bin/geos-config
    --with-proj=${proj:location}

[proj]
recipe = zc.recipe.cmmi
url = http://download.osgeo.org/proj/proj-4.6.1.tar.gz
patch = ${buildout:directory}/bme/patches/proj-4.6.1-datum.patch
patch_options = -p1

[geos]
recipe = zc.recipe.cmmi
url = http://download.osgeo.org/geos/geos-3.0.3.tar.bz2

[gdal]
recipe = zc.recipe.cmmi
url = http://download.osgeo.org/gdal/gdal-1.6.1.tar.gz
extra_options =
    --with-python
    --with-geos=${geos:location}/bin/geos-config

[init-pgsql]
recipe = iw.recipe.cmd
on_install = true
on_update = false
cmds =
    sudo sh ${buildout:directory}/bme/build/postgis_setup.sh "${postgis:location}" "${geos:location}" "${proj:location}"
    sudo -u postgres sh ${buildout:directory}/bme/build/postgis_sql.sh "${postgis:location}"

[django]
recipe = djangorecipe
version = ${versions:Django}
settings = development
eggs = ${buildout:eggs}
extra-paths = ${buildout:extra_paths}
testrunner = djangotests
project = ${buildout:MYPROJECT_NAME}
wsgi = true

[feedutil]
recipe = infrae.subversion
urls = http://django-feedutil.googlecode.com/svn/trunk/ django-feedutil

[atompub]
recipe = infrae.subversion
urls = http://django-atompub.googlecode.com/svn/trunk/atompub atompub

[atompub-link]
recipe = svetlyak40wt.recipe.symlinks
path = ${buildout:directory}/lib
files =
    ${atompub:location}/atompub/atom.py atomformat.py

[python-openid]
recipe = gocept.download
url = http://openidenabled.com/files/python-openid/packages/python-openid-2.2.1.zip
md5sum = f1ec6edc0ec561dbb75f9421f2027796

# Use explicitly 3.0.7a since the next official 3.1.0 is way slower
[beautiful-soup]
recipe = gocept.download
url = http://www.crummy.com/software/BeautifulSoup/download/3.x/BeautifulSoup-3.0.7a.tar.gz
md5sum = d28c8148bb770e72762eb202fa797b56

[ybrowserauth]
recipe = gocept.download
url = http://developer.yahoo.com/python/samples/ybrowserauth.zip
md5sum = 12facbef97951496b306a570f231153d

[geopy]
recipe = infrae.subversion
urls = http://geopy.googlecode.com/svn/trunk/ geopy

[markdown]
recipe = gocept.download
url = http://pypi.python.org/packages/source/M/Markdown/Markdown-2.0.tar.gz
md5sum = 4db8d332f531de10370ebaf1d2615786

[zlib]
recipe = hexagonit.recipe.cmmi
url = http://www.zlib.net/zlib-1.2.5.tar.gz
configure-options = --shared

[atom-format]
recipe = zerokspot.recipe.git
repository = git://github.com/pinax/atom-format.git
as_egg = true

[pinax]
recipe = zerokspot.recipe.git
repository = git://github.com/pinax/pinax.git
as_egg = true
# rev = 53422fc1e966757948dc96453485acd327422df5

[scripts]
recipe = zc.recipe.egg:scripts
eggs = ${buildout:eggs}
extra-paths = ${buildout:extra_paths}
scripts =
    ipython
    pinax-admin
entry-points =
    pinax-admin=pinax.core.management:execute_from_command_line

[app-plugins]
recipe = infrae.subversion
urls = http://django-app-plugins.googlecode.com/svn/trunk django-app-plugins

[django-mptt]
recipe = infrae.subversion
urls = http://django-mptt.googlecode.com/svn/trunk/ django-mptt

[django-schedule]
recipe = infrae.subversion
urls = http://django-schedule.googlecode.com/svn/trunk django-schedule

[django-haystack]
recipe = zerokspot.recipe.git
repository = http://github.com/toastdriven/django-haystack.git
as_egg = false
branch = master

[haystack-xapian-install]
recipe = svetlyak40wt.recipe.symlinks
path = ${django-haystack:location}/haystack/backends
files =
    ${xapian-haystack:location}/xapian_backend.py

[xapian]
recipe = zc.recipe.cmmi
url = http://oligarchy.co.uk/xapian/1.2.2/xapian-core-1.2.2.tar.gz

[xapian-bindings]
recipe = zc.recipe.cmmi
url = http://oligarchy.co.uk/xapian/1.2.2/xapian-bindings-1.2.2.tar.gz
extra_options =
    PYTHON_LIB=${xapian:location}/lib/python
    XAPIAN_CONFIG=${xapian:location}/bin/xapian-config
    --with-python
    --with-php=no
    --with-ruby=no
    --with-java=no
    --with-csharp=no

[xapian-haystack]
recipe = zerokspot.recipe.git
repository = http://github.com/notanumber/xapian-haystack.git
as_egg = false
